# –®–ª—é–∑ –¥–ª—è –∑–∞—Ä—è–¥–∫–∏ ChargeU (ESPHome)

–ü—Ä–æ—Å—É–Ω—É—Ç–∏–π —à–ª—é–∑ –Ω–∞ –±–∞–∑—ñ ESPHome –¥–ª—è —ñ–Ω—Ç–µ–≥—Ä–∞—Ü—ñ—ó –∑–∞—Ä—è–¥–Ω–∏—Ö —Å—Ç–∞–Ω—Ü—ñ–π **ChargeU Base** –≤ **Home Assistant**.

>–î–∞–Ω–∏–π –ø—Ä–æ–µ–∫—Ç –º–æ–∂–µ –±—É—Ç–∏ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–∏–π –¥–ª—è —ñ–Ω—Ç–≥–µ—Ä–∞—Ü—ñ—ó —ñ–Ω—à–∏—Ö –∑–∞—Ä—è–¥–Ω–∏—Ö —Å—Ç–∞–Ω—Ü—ñ–π, —è–∫—ñ –º–∞—é—Ç—å –ª–∏—à–µ WiFi —Ç–æ—á–∫—É –¥–æ—Å—Ç—É–ø—É —Ç–∞ –ø—Ä–∞—Ü—é—é—Ç—å —á–µ—Ä–µ–∑ Web-—ñ–Ω—Ç–µ—Ä—Ñ–µ–π—Å –∑–∞ –∞–¥—Ä–µ—Å–æ—é 192.168.4.1

–¶–µ–π –ø—Ä–æ–µ–∫—Ç –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î –ø–ª–∞—Ç—É **WT32-ETH01** —è–∫ –º—ñ—Å—Ç: –≤–æ–Ω–∞ –ø—ñ–¥–∫–ª—é—á–∞—î—Ç—å—Å—è –¥–æ Home Assistant —á–µ—Ä–µ–∑ –Ω–∞–¥—ñ–π–Ω–∏–π **Ethernet**, —ñ –æ–¥–Ω–æ—á–∞—Å–Ω–æ –ø—ñ–¥–∫–ª—é—á–∞—î—Ç—å—Å—è –¥–æ —Ç–æ—á–∫–∏ –¥–æ—Å—Ç—É–ø—É –∑–∞—Ä—è–¥–∫–∏ —á–µ—Ä–µ–∑ **WiFi**.

![ChargeU HA Card](images/card_example.png)

## üöÄ –ú–æ–∂–ª–∏–≤–æ—Å—Ç—ñ

* **–ü–æ–¥–≤—ñ–π–Ω–µ –ø—ñ–¥–∫–ª—é—á–µ–Ω–Ω—è:** –û–¥–Ω–æ—á–∞—Å–Ω–∞ —Ä–æ–±–æ—Ç–∞ Ethernet (–¥–ª—è HA) —Ç–∞ WiFi (–¥–ª—è –∑–∞—Ä—è–¥–∫–∏).
* **–ü–æ–≤–Ω–∏–π –∫–æ–Ω—Ç—Ä–æ–ª—å:**
    * –í—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—è —Å–∏–ª–∏ —Å—Ç—Ä—É–º—É (6–ê - 32–ê).
    * –ö–µ—Ä—É–≤–∞–Ω–Ω—è —Å–≤—ñ—Ç–ª–æ–¥—ñ–æ–¥–Ω–æ—é —ñ–Ω–¥–∏–∫–∞—Ü—ñ—î—é (LED).
    * –ö–µ—Ä—É–≤–∞–Ω–Ω—è –ø–µ—Ä–µ–≤—ñ—Ä–∫–æ—é –∑–∞–∑–µ–º–ª–µ–Ω–Ω—è.
    * **–ë–ª–æ–∫—É–≤–∞–Ω–Ω—è/–†–æ–∑–±–ª–æ–∫—É–≤–∞–Ω–Ω—è —Å—Ç–∞–Ω—Ü—ñ—ó** (Lock).
    * –ê–∫—Ç–∏–≤–∞—Ü—ñ—è "–†–∞–∑–æ–≤–æ—ó —Å–µ—Å—ñ—ó".
* **–†–æ–∑—É–º–Ω–∞ —á–µ—Ä–≥–∞ –∫–æ–º–∞–Ω–¥:**
    * –ó–∞–ø–æ–±—ñ–≥–∞—î –∑–∞–≤–∏—Å–∞–Ω–Ω—é —Å–ª–∞–±–∫–æ–≥–æ –≤–µ–±-—Å–µ—Ä–≤–µ—Ä–∞ –∑–∞—Ä—è–¥–∫–∏.
    * –Ü–Ω—Ç–µ—Ä–≤–∞–ª –æ–ø–∏—Ç—É–≤–∞–Ω–Ω—è: 6 —Å–µ–∫—É–Ω–¥ –¥–ª—è –∂–∏–≤–∏—Ö –¥–∞–Ω–∏—Ö, –º–∏—Ç—Ç—î–≤–æ –¥–ª—è –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω—å.
* **–û–ø—Ç–∏–º—ñ—Å—Ç–∏—á–Ω–∏–π —ñ–Ω—Ç–µ—Ä—Ñ–µ–π—Å:** –ú–∏—Ç—Ç—î–≤–∞ —Ä–µ–∞–∫—Ü—ñ—è –∫–Ω–æ–ø–æ–∫ —É Home Assistant –∑ –ø–æ–¥–∞–ª—å—à–æ—é —Ç–∏—Ö–æ—é –ø–µ—Ä–µ–≤—ñ—Ä–∫–æ—é —Å—Ç–∞—Ç—É—Å—É (–±–µ–∑ "—Å–ª–∞–π–¥-—à–æ—É").
* **–°—Ç–∞–±—ñ–ª—å–Ω—ñ—Å—Ç—å:** –ê–ª–≥–æ—Ä–∏—Ç–º "Anti-Flap" —Ñ—ñ–ª—å—Ç—Ä—É—î –∫–æ—Ä–æ—Ç–∫–æ—á–∞—Å–Ω—ñ –≤—Ç—Ä–∞—Ç–∏ WiFi, —â–æ–± —Å–µ–Ω—Å–æ—Ä–∏ –Ω–µ —Å—Ç–∞–≤–∞–ª–∏ "Unavailable" –±–µ–∑ —Ä–µ–∞–ª—å–Ω–æ—ó –ø—Ä–∏—á–∏–Ω–∏.
* **–°–µ–Ω—Å–æ—Ä–∏:** –ù–∞–ø—Ä—É–≥–∞, –°—Ç—Ä—É–º, –ü–æ—Ç—É–∂–Ω—ñ—Å—Ç—å —Å–µ—Å—ñ—ó, –ó–∞–≥–∞–ª—å–Ω–∞ –µ–Ω–µ—Ä–≥—ñ—è, –ß–∞—Å —Å–µ—Å—ñ—ó (—Ñ–æ—Ä–º–∞—Ç–æ–≤–∞–Ω–∏–π), –°—Ç–∞—Ç—É—Å –∑'—î–¥–Ω–∞–Ω–Ω—è.

## üõ† –ù–µ–æ–±—Ö—ñ–¥–Ω–µ –∑–∞–ª—ñ–∑–æ

* **WT32-ETH01** (ESP32 –∑ –ø–æ—Ä—Ç–æ–º LAN8720).
* –ë–ª–æ–∫ –∂–∏–≤–ª–µ–Ω–Ω—è 5V/1A (—á–µ—Ä–µ–∑ –ø—ñ–Ω–∏ 5V/GND). **–í–∞–∂–ª–∏–≤–æ:** –ù–µ –∂–∏–≤—ñ—Ç—å –ø–ª–∞—Ç—É –≤—ñ–¥ USB-TTL –∞–¥–∞–ø—Ç–µ—Ä–∞ –ø—ñ–¥ —á–∞—Å —Ä–æ–±–æ—Ç–∏, —Ü–µ –º–æ–∂–µ –≤–∏–∫–ª–∏–∫–∞—Ç–∏ –∑–±–æ—ó WiFi/Ethernet.
* Ethernet –∫–∞–±–µ–ª—å.

## ‚öôÔ∏è –í—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—è

### 1. –ü—ñ–¥–≥–æ—Ç–æ–≤–∫–∞ —Ñ–∞–π–ª—ñ–≤
–°–∫–æ–ø—ñ—é–π—Ç–µ —Ñ–∞–π–ª `chargeu_component.h` —É –ø–∞–ø–∫—É –∫–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—ó ESPHome (–∑–∞–∑–≤–∏—á–∞–π `/config/esphome/`, –∞–±–æ `/homeassistant/esphome/`).

### 2. –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è
–í—ñ–¥–∫—Ä–∏–π—Ç–µ `chargeu_component.h` —ñ –≤–ø–∏—à—ñ—Ç—å –¥–∞–Ω—ñ WiFi –≤–∞—à–æ—ó –∑–∞—Ä—è–¥–∫–∏:
```cpp
const char* CHARGER_SSID = "CHARGEU base xxxx"; 
const char* CHARGER_PASS = "–≤–∞—â_–ø–∞—Ä–æ–ª—å";
const char* CHARGER_URL  = "[http://192.168.4.1](http://192.168.4.1)";
```
### 3. –ü—Ä–æ—à–∏–≤–∫–∞
1. –°–∫–æ–ø—ñ—é–π—Ç–µ –≤–º—ñ—Å—Ç chargeu-gateway.yaml —É –Ω–æ–≤–∏–π –ø—Ä–∏—Å—Ç—Ä—ñ–π –≤ ESPHome Dashboard
2. –ó—Ä–æ–±—ñ—Ç—å –ø–µ—Ä–µ–º–∏—á–∫—É –º—ñ–∂ IO0-GND.
3. –ü—ñ–¥—î–¥–Ω–∞–π—Ç–µ –ø–ª–∞—Ç—É –∑–∞ –¥–æ–ø–æ–º–æ–≥–æ—é USB-TTL –¥–æ –∫–æ–º–ø'—é—Ç–µ—Ä–∞.
4. –ü—Ä–æ—à–∏–π—Ç–µ –ø–ª–∞—Ç—É `Install ‚Üí Plug into this computer` –ê–ë–û `Install ‚Üí Manual download (previously modern) ‚Üí –ü–µ—Ä–µ–π–¥—ñ—Ç—å –Ω–∞ https://web.esphome.io/ –∞—Ç –ø—Ä–æ—à–∏–π—Ç–µ –ø–ª–∞—Ç—É`
5. –í—ñ–¥'—î–¥–Ω–∞–π—Ç–µ –≤—ñ–¥ –ü–ö, –∑–Ω—ñ–º—ñ—Ç—å –ø–µ—Ä–µ–º–∏—á–∫—É.
6. –ü–æ–¥–∞–π—Ç–µ –∂–∏–≤–ª–µ–Ω–Ω—è 5V/1A –Ω–∞ –ø–ª–∞—Ç—É —Ç–∞ –ø—ñ–¥'—î–¥–Ω–∞–π—Ç–µ –¥–æ –ª–æ–∫–∞–ª—å–Ω–æ—ó –º–µ—Ä–µ–∂—ñ.
7. –£ —ñ–Ω—Ç–µ–≥—Ä–∞—Ü—ñ—ó ESPHome –º–∞—î –∑'—è–≤–∏—Ç–∏—Å—è –Ω–æ–≤–∏–π device

> **–ü—Ä–∏–º—ñ—Ç–∫–∞: –£ –∫–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—ó –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î—Ç—å—Å—è board: esp32dev –∑–∞–º—ñ—Å—Ç—å wt32-eth01, —â–æ–± —É–Ω–∏–∫–Ω—É—Ç–∏ –∫–æ–Ω—Ñ–ª—ñ–∫—Ç—ñ–≤ –¥—Ä–∞–π–≤–µ—Ä—ñ–≤ Ethernet. –ü—ñ–Ω–∏ –Ω–∞–ª–∞—à—Ç–æ–≤–∞–Ω—ñ –≤—Ä—É—á–Ω—É.

# ‚ö†Ô∏è –í—ñ–¥–º–æ–≤–∞ –≤—ñ–¥ –≤—ñ–¥–ø–æ–≤—ñ–¥–∞–ª—å–Ω–æ—Å—Ç—ñ
–¶–µ –Ω–µ–æ—Ñ—ñ—Ü—ñ–π–Ω–∞ —ñ–Ω—Ç–µ–≥—Ä–∞—Ü—ñ—è. –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–π—Ç–µ –Ω–∞ —Å–≤—ñ–π —Å—Ç—Ä–∞—Ö —ñ —Ä–∏–∑–∏–∫. –ê–≤—Ç–æ—Ä –Ω–µ –Ω–µ—Å–µ –≤—ñ–¥–ø–æ–≤—ñ–¥–∞–ª—å–Ω–æ—Å—Ç—ñ –∑–∞ —Ä–æ–±–æ—Ç—É –≤–∞—à–æ—ó –∑–∞—Ä—è–¥–Ω–æ—ó —Å—Ç–∞–Ω—Ü—ñ—ó.

## üí° –ê–≤—Ç–æ—Ä

- GitHub: [@chaichuk](https://github.com/chaichuk)  
- Telegram: [@serhii_chaichuk](https://t.me/serhii_chaichuk)

# –°–∫—Ä—ñ–Ω—à–æ—Ç–∏ –∑ HA
![image](images/HA-device1.jpg)
![image](images/HA-entities.jpg)
![image](images/HA-card-ua.jpg)
